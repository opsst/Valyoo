{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pisit\\\\Desktop\\\\valyoo\\\\src\\\\Vproduct.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'; // import { response } from 'express';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Vproduct = props => /*#__PURE__*/_jsxDEV(\"img\", {\n  className: \"w-16 mr-3 h-16 object-cover\",\n  src: props.img,\n  onClick: () => console.log(props.key)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 7\n}, this);\n\n_c = Vproduct;\nexport default class ViewProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: [],\n      img: [],\n      isAuth: false\n    };\n  }\n\n  test() {\n    console.log('wtf');\n  }\n\n  componentDidMount() {\n    localStorage.setItem('url', '/product/' + this.props.match.params.id);\n    axios.get('http://localhost:5000/product/' + this.props.match.params.id).then(res => {\n      this.setState({\n        img: res.data.pimg\n      });\n      this.setState({\n        product: res.data\n      });\n      console.log(this.state.isAuth);\n    });\n    const accessTokenObj = localStorage.getItem(\"token\");\n\n    if (accessTokenObj) {\n      // myHeaders.append(\"Authorization\", accessTokenObj.toString())\n      const x = accessTokenObj;\n      const myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", x);\n      this.setState({\n        isAuth: true\n      });\n      fetch('http://localhost:5000/users/protected', {\n        method: 'Get',\n        headers: myHeaders\n      }).then(res => res.json()).then(data => console.log(data));\n    } else {\n      console.log('no token');\n    }\n  } // viewproduct(id){\n  //     axios.get('http://http://localhost:5000/product/'+id)\n  //     .then(response => {console.log(response.data)})\n  //     this.setState({\n  //         product: this.state.product.filter(el => el._id !== id)\n  //     })\n  // }\n  // imgList(){\n  //   let i = 0;\n  //   while(this.state.img[i]){\n  //     i++\n  //     return <img className=\"w-96 mr-6 md:border-white md:border-solid md:border-4 h-auto object-cover\" src={this.state.img[i]}/>\n  //   }\n  // }\n\n\n  productList() {\n    if (this.state.product) {\n      return this.state.img.map(currentimg => {\n        let x = 1;\n        return /*#__PURE__*/_jsxDEV(Vproduct, {\n          img: currentimg,\n          product: this.state.product,\n          isAuth: this.state.isAuth\n        }, this.renderData(currentimg), false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 28\n        }, this);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-36 pt-12 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2 relative\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-max object-cover h-3/5\",\n            src: this.state.img[0],\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-6 bottom-4 absolute\",\n          children: [this.productList(), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:w-2/3 pt-2 pb-2 text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-orange text-6xl font-primary2 \",\n          children: this.state.product.pname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-grey-dark text-sm leading-normal font-primary \",\n          children: this.state.product.pdesc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-grey-dark text-2xl mt-10 leading-normal font-primary\",\n          children: [\"\\u0E3F\", this.state.product.pprice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex ml-24 mt-32\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\",\n            children: \"XS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\",\n            children: \"S\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\",\n            children: \"M\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\",\n            children: \"L\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\",\n            children: \"XL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\",\n            children: \"2XL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }, this), this.state.isAuth && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-black shadow text-white rounded-full py-3 px-6 mt-12 ml-96 md:bg-orange text-center cursor-pointer font-primary2\",\n          children: \"ADD TO CART\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/user\",\n          children: !this.state.isAuth && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-black shadow text-white rounded-full py-3 px-6 mt-12 ml-96 md:bg-orange text-center cursor-pointer font-primary2 \",\n            children: \"ADD TO CART\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Vproduct\");","map":{"version":3,"sources":["C:/Users/Pisit/Desktop/valyoo/src/Vproduct.component.js"],"names":["React","Component","Link","axios","Vproduct","props","img","console","log","key","ViewProduct","constructor","state","product","isAuth","test","componentDidMount","localStorage","setItem","match","params","id","get","then","res","setState","data","pimg","accessTokenObj","getItem","x","myHeaders","Headers","append","fetch","method","headers","json","productList","map","currentimg","renderData","render","pname","pdesc","pprice"],"mappings":";AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,iBAGhB;AAAK,EAAA,SAAS,EAAC,6BAAf;AAA6C,EAAA,GAAG,EAAEA,KAAK,CAACC,GAAxD;AAA6D,EAAA,OAAO,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,GAAlB;AAA5E;AAAA;AAAA;AAAA;AAAA,QAHN;;KAAML,Q;AAON,eAAe,MAAMM,WAAN,SAA0BT,SAA1B,CAAmC;AAC9CU,EAAAA,WAAW,CAACN,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKO,KAAL,GAAa;AAACC,MAAAA,OAAO,EAAE,EAAV;AACDP,MAAAA,GAAG,EAAC,EADH;AAEDQ,MAAAA,MAAM,EAAE;AAFP,KAAb;AAIH;;AACDC,EAAAA,IAAI,GAAE;AACJR,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACD;;AAEDQ,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA2B,cAAY,KAAKb,KAAL,CAAWc,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/D;AACElB,IAAAA,KAAK,CAACmB,GAAN,CAAU,mCAAiC,KAAKjB,KAAL,CAAWc,KAAX,CAAiBC,MAAjB,CAAwBC,EAAnE,EACCE,IADD,CACMC,GAAG,IAAG;AACR,WAAKC,QAAL,CAAc;AAAEnB,QAAAA,GAAG,EAAEkB,GAAG,CAACE,IAAJ,CAASC;AAAhB,OAAd;AACA,WAAKF,QAAL,CAAc;AAAEZ,QAAAA,OAAO,EAAEW,GAAG,CAACE;AAAf,OAAd;AACAnB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKI,KAAL,CAAWE,MAAvB;AAEH,KAND;AAOA,UAAMc,cAAc,GAAGX,YAAY,CAACY,OAAb,CAAqB,OAArB,CAAvB;;AACA,QAAGD,cAAH,EAAkB;AACd;AACA,YAAME,CAAC,GAAGF,cAAV;AACA,YAAMG,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACAD,MAAAA,SAAS,CAACE,MAAV,CAAiB,eAAjB,EAAkCH,CAAlC;AACA,WAAKL,QAAL,CAAc;AAACX,QAAAA,MAAM,EAAC;AAAR,OAAd;AACAoB,MAAAA,KAAK,CAAC,uCAAD,EAAyC;AAC5CC,QAAAA,MAAM,EAAG,KADmC;AAE5CC,QAAAA,OAAO,EAAGL;AAFkC,OAAzC,CAAL,CAICR,IAJD,CAIMC,GAAG,IAAIA,GAAG,CAACa,IAAJ,EAJb,EAKCd,IALD,CAKMG,IAAI,IAAInB,OAAO,CAACC,GAAR,CAAYkB,IAAZ,CALd;AAMD,KAZH,MAaM;AACFnB,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD;AACN,GAtC6C,CAuC9C;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA8B,EAAAA,WAAW,GAAE;AAET,QAAG,KAAK1B,KAAL,CAAWC,OAAd,EAAsB;AAClB,aAAO,KAAKD,KAAL,CAAWN,GAAX,CAAeiC,GAAf,CAAmBC,UAAU,IAClC;AACM,YAAIV,CAAC,GAAG,CAAR;AACA,4BAAO,QAAC,QAAD;AAAU,UAAA,GAAG,EAAEU,UAAf;AAA2B,UAAA,OAAO,EAAE,KAAK5B,KAAL,CAAWC,OAA/C;AAAwD,UAAA,MAAM,EAAI,KAAKD,KAAL,CAAWE;AAA7E,WAA0F,KAAK2B,UAAL,CAAgBD,UAAhB,CAA1F;AAAA;AAAA;AAAA;AAAA,gBAAP;AACL,OAJI,CAAP;AAKH;AACJ;;AACDE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,0BAAf;AAA0C,YAAA,GAAG,EAAE,KAAK9B,KAAL,CAAWN,GAAX,CAAe,CAAf,CAA/C;AAAkE,YAAA,GAAG,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,UAAA,SAAS,EAAC,oCAAf;AAAA,qBACG,KAAKgC,WAAL,EADH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAQI;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA,gCAEE;AAAI,UAAA,SAAS,EAAC,qCAAd;AAAA,oBAAqD,KAAK1B,KAAL,CAAWC,OAAX,CAAmB8B;AAAxE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAG,UAAA,SAAS,EAAC,qDAAb;AAAA,oBAAoE,KAAK/B,KAAL,CAAWC,OAAX,CAAmB+B;AAAvF;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAG,UAAA,SAAS,EAAC,2DAAb;AAAA,+BAA2E,KAAKhC,KAAL,CAAWC,OAAX,CAAmBgC,MAA9F;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAK,YAAA,KAAK,EAAC,gGAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA;AAAK,YAAA,KAAK,EAAC,gGAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHA,eAIA;AAAK,YAAA,KAAK,EAAC,gGAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJA,eAKA;AAAK,YAAA,KAAK,EAAC,gGAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALA,eAMA;AAAK,YAAA,KAAK,EAAC,gGAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANA,eAOA;AAAK,YAAA,KAAK,EAAC,gGAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,EAcG,KAAKjC,KAAL,CAAWE,MAAX,iBAAqB;AAAK,UAAA,SAAS,EAAC,qHAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdxB,eAeE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,OAAT;AAAA,oBAAkB,CAAC,KAAKF,KAAL,CAAWE,MAAZ,iBAAsB;AAAK,YAAA,SAAS,EAAC,sHAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAxC;AAAA;AAAA;AAAA;AAAA,gBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA4BH;;AA9F6C","sourcesContent":["\r\n\r\nimport React ,{ Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n// import { response } from 'express';\r\n\r\nconst Vproduct = props =>(\r\n\r\n\r\n      <img className=\"w-16 mr-3 h-16 object-cover\" src={props.img} onClick={() => console.log(props.key)}/>\r\n\r\n)\r\n\r\nexport default class ViewProduct extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {product: [],\r\n                    img:[],\r\n                    isAuth: false};\r\n                    \r\n    }\r\n    test(){\r\n      console.log('wtf')\r\n    }\r\n\r\n    componentDidMount(){\r\n      localStorage.setItem('url','/product/'+this.props.match.params.id);\r\n        axios.get('http://localhost:5000/product/'+this.props.match.params.id)\r\n        .then(res =>{\r\n            this.setState({ img: res.data.pimg})\r\n            this.setState({ product: res.data})\r\n            console.log(this.state.isAuth)\r\n            \r\n        })\r\n        const accessTokenObj = localStorage.getItem(\"token\");\r\n        if(accessTokenObj){\r\n            // myHeaders.append(\"Authorization\", accessTokenObj.toString())\r\n            const x = accessTokenObj\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Authorization\", x)\r\n            this.setState({isAuth:true})\r\n            fetch('http://localhost:5000/users/protected',{\r\n              method : 'Get',\r\n              headers : myHeaders,\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => console.log(data));\r\n          }\r\n          else{\r\n            console.log('no token');\r\n          }\r\n    }\r\n    // viewproduct(id){\r\n    //     axios.get('http://http://localhost:5000/product/'+id)\r\n    //     .then(response => {console.log(response.data)})\r\n\r\n    //     this.setState({\r\n    //         product: this.state.product.filter(el => el._id !== id)\r\n    //     })\r\n    // }\r\n    // imgList(){\r\n    //   let i = 0;\r\n    //   while(this.state.img[i]){\r\n    //     i++\r\n    //     return <img className=\"w-96 mr-6 md:border-white md:border-solid md:border-4 h-auto object-cover\" src={this.state.img[i]}/>\r\n    //   }\r\n    // }\r\n\r\n    productList(){\r\n\r\n        if(this.state.product){\r\n            return this.state.img.map(currentimg=>\r\n              {\r\n                    let x = 1;\r\n                    return <Vproduct img={currentimg} product={this.state.product} isAuth = {this.state.isAuth} key={this.renderData(currentimg)}/>;\r\n              })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"px-36 pt-12 flex\">\r\n                <div className=\"grid grid-cols-2 justify-center\">\r\n                  <div className=\"col-span-2 relative\">\r\n                    <img className=\"w-max object-cover h-3/5\" src={this.state.img[0]} alt=\"\" />\r\n                  </div>\r\n                  <div className=\"grid grid-cols-6 bottom-4 absolute\">\r\n                    {this.productList()} </div>\r\n                    </div>\r\n                <div className=\"sm:w-2/3 pt-2 pb-2 text-right\">\r\n\r\n                  <h3 className=\"text-orange text-6xl font-primary2 \">{this.state.product.pname}</h3>  \r\n                  <p className=\"text-grey-dark text-sm leading-normal font-primary \">{this.state.product.pdesc}</p>\r\n                  <p className=\"text-grey-dark text-2xl mt-10 leading-normal font-primary\">฿{this.state.product.pprice}</p>\r\n                  <div className=\"flex ml-24 mt-32\">\r\n                  <br></br>\r\n                  <div class=\"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\">XS</div>\r\n                  <div class=\"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\">S</div>\r\n                  <div class=\"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\">M</div>\r\n                  <div class=\"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\">L</div>\r\n                  <div class=\"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\">XL</div>\r\n                  <div class=\"border rounded-full m-3 h-12 w-12 flex items-center justify-center cursor-pointer font-primary\">2XL</div>\r\n                  </div>\r\n                  {this.state.isAuth && <div className=\"bg-black shadow text-white rounded-full py-3 px-6 mt-12 ml-96 md:bg-orange text-center cursor-pointer font-primary2\">ADD TO CART</div>}\r\n                  <Link to=\"/user\">{!this.state.isAuth && <div className=\"bg-black shadow text-white rounded-full py-3 px-6 mt-12 ml-96 md:bg-orange text-center cursor-pointer font-primary2 \" >ADD TO CART</div>}</Link>\r\n                </div>  \r\n</div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}