{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pisit\\\\Desktop\\\\valyoo\\\\src\\\\Book.js\";\nimport ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { browserHistory } from 'react-router';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport { CountryDropdown, RegionDropdown, CountryRegionData } from 'react-country-region-selector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddressDetail = props => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"border border-black mb-4 p-4 hover:bg-black hover:text-white\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-primary2 text-xl\",\n    children: props.detail.addname\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [props.detail.fn, \" \", props.detail.ln, \",\", props.detail.addi1]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [props.detail.ctry, \", \", props.detail.pvince, \", \", props.detail.district, \", \", props.detail.sdistrict]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 5\n}, this);\n\n_c = AddressDetail;\nexport default class Book extends Component {\n  constructor(props) {\n    super(props); // this.onchangefn = this.onchangefn.bind(this)\n    // this.onchangeln = this.onchangeln.bind(this)\n    // this.onchangeaddname = this.onchangeaddname.bind(this)\n    // this.onchangeaddi1 = this.onchangeaddi1.bind(this)\n    // this.onchangeaddi2 = this.onchangeaddi2.bind(this)\n    // this.onchangedistrict = this.onchangedistrict.bind(this)\n    // this.onchangesdistrict = this.onchangesdistrict.bind(this)\n    // this.onchangepstcode = this.onchangepstcode.bind(this)\n    // this.onchangephnum = this.onchangephnum.bind(this)\n    // this.onSubmit = this.onSubmit.bind(this)\n\n    this.showAddress = this.showAddress.bind(this);\n    this.haveAddress = this.haveAddress.bind(this);\n    this.state = {\n      address: [],\n      isAddress: false\n    };\n  }\n\n  componentDidMount() {\n    const accessTokenObj = localStorage.getItem(\"token\");\n    const x = accessTokenObj;\n    const myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", x);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    axios.get('http://localhost:5000/address/get', {\n      headers: {\n        Authorization: x\n      }\n    }).then(res => {\n      console.log(res.data);\n\n      if (res.data.length !== 0) {\n        this.setState({\n          address: res.data,\n          isAddress: true\n        });\n      }\n\n      console.log(this.state.isAddress);\n      this.forceUpdate(); // this.setState({\n      // toId:res.data._id\n      // })\n    }); // fetch('http://localhost:5000/address/get',{\n    // method:'get',\n    // headers :myHeaders,\n    // }).then(res => {\n    //     console.log(res.product)\n    //     this.setState({\n    //         address:res\n    //     })\n    // }\n    //     )\n  }\n\n  haveAddress() {\n    return this.state.address.map(current => {\n      console.log(current);\n      return /*#__PURE__*/_jsxDEV(AddressDetail, {\n        detail: current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 20\n      }, this);\n    });\n  }\n\n  showAddress() {\n    if (this.state.isAddress === true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.haveAddress()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 24\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-12 py-3 uppercase text-center text-white bg-black\",\n        children: \"You don't have any address please add before checkout.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 24\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 mx-48 my-12 font-primary4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-2 px-12 border border-black py-12 grid\",\n        children: this.showAddress()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pl-16\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile/\" + this.props.match.params.id,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-2 py-3 text-lg px-2 inline-block border-2 border-white hover:border-black hover:border-2\",\n            children: \"My Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/personal/\" + this.props.match.params.id,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-2 py-3 text-lg px-2 inline-block border-2 border-white hover:border-black hover:border-2\",\n            children: \"Personal Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/address/\" + this.props.match.params.id,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-2 py-3 text-lg px-2 bg-black text-white inline-block border-2 border-black hover:border-black hover:border-2\",\n            children: \"Address Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-2 py-3 text-lg px-2 inline-block border-2 border-white hover:border-black hover:border-2\",\n          children: \"Order History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"AddressDetail\");","map":{"version":3,"sources":["C:/Users/Pisit/Desktop/valyoo/src/Book.js"],"names":["ReactDOM","React","Component","Link","axios","browserHistory","confirmAlert","CountryDropdown","RegionDropdown","CountryRegionData","AddressDetail","props","detail","addname","fn","ln","addi1","ctry","pvince","district","sdistrict","Book","constructor","showAddress","bind","haveAddress","state","address","isAddress","componentDidMount","accessTokenObj","localStorage","getItem","x","myHeaders","Headers","append","get","headers","Authorization","then","res","console","log","data","length","setState","forceUpdate","map","current","render","match","params","id"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom'\r\nimport React ,{ Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { browserHistory } from 'react-router'\r\nimport { confirmAlert } from 'react-confirm-alert'; \r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport { CountryDropdown, RegionDropdown, CountryRegionData } from 'react-country-region-selector';\r\n\r\n\r\nconst AddressDetail = props=>(\r\n    <div  className=\"border border-black mb-4 p-4 hover:bg-black hover:text-white\">\r\n        <div className=\"font-primary2 text-xl\">\r\n            {props.detail.addname}\r\n        </div>\r\n        <div>\r\n            {props.detail.fn} {props.detail.ln},{props.detail.addi1}\r\n        </div>\r\n        <div>\r\n            {props.detail.ctry}, {props.detail.pvince}, {props.detail.district}, {props.detail.sdistrict}\r\n        </div>\r\n    </div>\r\n    \r\n)\r\n\r\nexport default class Book extends Component{\r\n    \r\n    constructor(props){\r\n        \r\n        \r\n        super(props);\r\n        // this.onchangefn = this.onchangefn.bind(this)\r\n        // this.onchangeln = this.onchangeln.bind(this)\r\n        // this.onchangeaddname = this.onchangeaddname.bind(this)\r\n        // this.onchangeaddi1 = this.onchangeaddi1.bind(this)\r\n        // this.onchangeaddi2 = this.onchangeaddi2.bind(this)\r\n        // this.onchangedistrict = this.onchangedistrict.bind(this)\r\n        // this.onchangesdistrict = this.onchangesdistrict.bind(this)\r\n        // this.onchangepstcode = this.onchangepstcode.bind(this)\r\n        // this.onchangephnum = this.onchangephnum.bind(this)\r\n        // this.onSubmit = this.onSubmit.bind(this)\r\n           this.showAddress = this.showAddress.bind(this)\r\n           this.haveAddress = this.haveAddress.bind(this)\r\n        \r\n    \r\n        this.state = {\r\n            address:[],\r\n            isAddress:false\r\n\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        const accessTokenObj = localStorage.getItem(\"token\");\r\n        const x = accessTokenObj\r\n        const myHeaders = new Headers();\r\n              myHeaders.append(\"Authorization\", x)\r\n              myHeaders.append(\"Content-Type\",\"application/json\")\r\n        axios.get('http://localhost:5000/address/get',{headers:{Authorization:x}})\r\n        .then(res=>{\r\n            console.log(res.data)\r\n            if(res.data.length!==0){\r\n                this.setState({\r\n                    address:res.data,\r\n                    isAddress:true\r\n                })\r\n            }\r\n            console.log(this.state.isAddress)\r\n            this.forceUpdate();\r\n            \r\n            // this.setState({\r\n            // toId:res.data._id\r\n            // })\r\n        })\r\n        // fetch('http://localhost:5000/address/get',{\r\n        // method:'get',\r\n        // headers :myHeaders,\r\n        // }).then(res => {\r\n        //     console.log(res.product)\r\n        //     this.setState({\r\n        //         address:res\r\n        //     })\r\n        // }\r\n        //     )\r\n    }\r\n    haveAddress(){\r\n        return this.state.address.map(current=>{\r\n            console.log(current)\r\n            return <AddressDetail detail={current} />\r\n        })\r\n    }\r\n    showAddress(){\r\n\r\n            if(this.state.isAddress===true){\r\n                return(<div>{this.haveAddress()}</div> )\r\n            }\r\n            else{\r\n                return(<div className=\"w-full h-12 py-3 uppercase text-center text-white bg-black\">You don't have any address please add before checkout.</div>)\r\n            }\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"grid grid-cols-3 mx-48 my-12 font-primary4\">\r\n                <div className=\"col-span-2 px-12 border border-black py-12 grid\">\r\n                    {this.showAddress()}\r\n                  {/* {!this.isAddress&&<div className=\"w-full text-center bg-\">You don't have any address please add before checkout</div>}\r\n                  {this.isAddress&&<div>Yey</div>} */}\r\n                </div>\r\n\r\n\r\n                \r\n                <div className=\"pl-16\">\r\n                    <Link to={\"/profile/\"+this.props.match.params.id}>\r\n                    <div className=\"text-center mb-2 py-3 text-lg px-2 inline-block border-2 border-white hover:border-black hover:border-2\">My Account</div>\r\n                    </Link>\r\n                    <br></br>\r\n                    <Link to={\"/personal/\"+this.props.match.params.id}>\r\n                    <div className=\"text-center mb-2 py-3 text-lg px-2 inline-block border-2 border-white hover:border-black hover:border-2\">Personal Information</div>\r\n                    </Link>\r\n                    <br></br>\r\n                    <Link to={\"/address/\"+this.props.match.params.id}>\r\n                    <div className=\"text-center mb-2 py-3 text-lg px-2 bg-black text-white inline-block border-2 border-black hover:border-black hover:border-2\">Address Book</div>\r\n                    </Link>\r\n                    <br></br>\r\n                    <div className=\"text-center mb-2 py-3 text-lg px-2 inline-block border-2 border-white hover:border-black hover:border-2\">Order History</div>\r\n\r\n                </div>\r\n                \r\n              \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}